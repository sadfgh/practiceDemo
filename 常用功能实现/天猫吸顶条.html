<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>天猫吸顶条</title>
    <style type="text/css">
        div {
            width: 100%;
            height: 30px;
            border: 1px solid black;
            background-color: red;
        }
    </style>
</head>

<body>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <div></div>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>

    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <p>我的天猫吸顶条的实现</p>
    <script>
        var div = document.getElementsByTagName('div')[0];
        //IE7以下不能用 var ot = div.getBoundingClientRect().top;

        function getTop(obj) {
            var top = 0;
            while (obj) {
                top += obj.offsetTop;
                obj = obj.offsetParent;
            }
            return top;
        }
        var ot = getTop(div);
        window.onscroll = function () {

            var st = document.documentElement.scrollTop || document.body.scrollTop;
            if (st >= ot) {
                div.style.position = 'fixed';
                div.style.top = 0;
            } else {
                div.style.position = '';
            }
        }
    </script>
</body>

</html>